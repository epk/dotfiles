command_timeout = 5000

format = """
${custom.status}\
$directory\
${custom.no_git}\
$git_branch\
$git_status\
$line_break\
$character"""

right_format = "$cmd_duration"

[character]
success_symbol = "[❯](bold green)"
error_symbol = "[❯](bold red)"

# Status segment — only visible when last command failed
[custom.status]
when = 'test "${STARSHIP_CMD_STATUS:-0}" != "0"'
command = 'echo x'
format = '[✘](bold fg:red bg:black)[](fg:black bg:#4078C0)'
shell = ['bash', '--noprofile', '--norc']
description = 'Error status'

[directory]
truncation_length = 0
truncate_to_repo = false
fish_style_pwd_dir_length = 1
style = "fg:#FFFFFF bg:#4078C0"
format = "[ $path ]($style)"

# Close directory segment when not in a git repo
[custom.no_git]
when = '! git rev-parse --is-inside-work-tree 2>/dev/null'
command = 'echo x'
format = '[](fg:#4078C0)'
shell = ['bash', '--noprofile', '--norc']
description = 'No git repo'

[git_branch]
format = '[](fg:#4078C0 bg:#43A047)[  $branch](fg:#FFFFFF bg:#43A047)'

[git_status]
format = '([$all_status](fg:#43A047 bg:#43A047)[ ✎](fg:#FFFFFF bg:#43A047))[ ](fg:#FFFFFF bg:#43A047)[](fg:#43A047)'
modified = '!'
staged = '!'
untracked = '!'
renamed = '!'
deleted = '!'
conflicted = '!'
ahead = ''
behind = ''
diverged = ''
up_to_date = ''
stashed = ''

[cmd_duration]
min_time = 2000
format = "[$duration]($style)"

[kubernetes]
disabled = true

[gcloud]
disabled = true

[docker_context]
disabled = true

[package]
disabled = true
